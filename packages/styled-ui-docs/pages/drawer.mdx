# Drawer

A drawer dialog is a window overlaid on either the primary window or another dialog
window. Contents behind a drawer dialog are **inert** meaning that users cannot
interact with content behind the dialog.

## Import

- `Drawer`: A `Provider` component that provides the context to the components it wraps.
- `DrawerOverlay`: The overlay of the drawer.
- `DrawerContent`: The content of the drawer.
- `DrawerHeader`: The header of the drawer.
- `DrawerBody`: The body of the drawer.
- `DrawerFooter`: The footer of the drawer.

```js
import { Drawer, DrawerOverlay, DrawerContent, DrawerHeader, DrawerBody, DrawerFooter } from '@trendmicro/react-styled-ui';
// or
import Drawer from '@trendmicro/react-styled-ui/Drawer';
```

## Usage

### Drawer functionality

Click the button below to toggle a drawer. The drawer will show up in the center of the screen.

```jsx noInline
const useSelection = (defaultValue) => {
  const [value, setValue] = React.useState(defaultValue);
  const changeBy = (value) => () => setValue(value);
  return [value, changeBy];
};

const useToggle = (defaultValue) => {
  const [value, setValue] = React.useState(defaultValue);
  const toggle = () => setValue(value => !value);
  return [value, toggle];
};

function Example() {
  const { isOpen, onOpen, onClose } = useDisclosure();
  const [placement, changePlacementBy] = useSelection('right');
  const [size, changeSizeBy] = useSelection('auto');
  const [autoFocus, toggleAutoFocus] = useToggle(true);
  const [isCloseButtonVisible, toggleIsCloseButtonVisible] = useToggle(true);
  const [closeOnEsc, toggleCloseOnEsc] = useToggle(true);
  const [closeOnOutsideClick, toggleCloseOnOutsideClick] = useToggle(true);
  const [isOverlayVisible, toggleIsOverlayVisible] = useToggle(true);
  const [isHeaderVisible, toggleIsHeaderVisible] = useToggle(true);
  const [isBodyVisible, toggleIsBodyVisible] = useToggle(true);
  const [isFooterVisible, toggleIsFooterVisible] = useToggle(true);

  return (
    <>
      <Grid
        rowGap="4x"
        columnGap="6x"
        mb="5x"
      >
        <ButtonGroup variant="secondary">
          {['left', 'right'].map(value => (
            <Button
              key={value}
              selected={value === placement} 
              onClick={changePlacementBy(value)}
              minWidth="15x"
            >
              {value}
            </Button>
          ))}
        </ButtonGroup>
        <ButtonGroup variant="secondary">
          {['auto', 'sm', 'md', 'lg', 'full'].map(value => (
            <Button
              key={value}
              selected={value === size}
              onClick={changeSizeBy(value)}
              minWidth="15x"
            >
              {value}
            </Button>
          ))}
        </ButtonGroup>
        <TextLabel display="flex" alignItems="center">
          <Checkbox checked={autoFocus} onChange={toggleAutoFocus} />
          <Space width="2x" />
          <Text fontFamily="mono" whiteSpace="nowrap">autoFocus</Text>
        </TextLabel>
        <TextLabel display="flex" alignItems="center">
          <Checkbox
            checked={isCloseButtonVisible}
            disabled={!closeOnEsc && !closeOnOutsideClick}
            onChange={toggleIsCloseButtonVisible}
          />
          <Space width="2x" />
          <Text fontFamily="mono" whiteSpace="nowrap">isCloseButtonVisible</Text>
        </TextLabel>
        <TextLabel display="flex" alignItems="center">
          <Checkbox
            checked={closeOnEsc}
            disabled={!isCloseButtonVisible && !closeOnOutsideClick}
            onChange={toggleCloseOnEsc}
          />
          <Space width="2x" />
          <Text fontFamily="mono" whiteSpace="nowrap">closeOnEsc</Text>
        </TextLabel>
        <TextLabel display="flex" alignItems="center">
          <Checkbox
            checked={closeOnOutsideClick}
            disabled={!isCloseButtonVisible && !closeOnEsc}
            onChange={toggleCloseOnOutsideClick}
          />
          <Space width="2x" />
          <Text fontFamily="mono" whiteSpace="nowrap">closeOnOutsideClick</Text>
        </TextLabel>
        <TextLabel display="flex" alignItems="center">
          <Checkbox checked={isOverlayVisible} onChange={toggleIsOverlayVisible} />
          <Space width="2x" />
          <Text fontFamily="mono" whiteSpace="nowrap">DrawerOverlay</Text>
        </TextLabel>
        <TextLabel display="flex" alignItems="center">
          <Checkbox checked={isHeaderVisible} onChange={toggleIsHeaderVisible} />
          <Space width="2x" />
          <Text fontFamily="mono" whiteSpace="nowrap">DrawerHeader</Text>
        </TextLabel>
        <TextLabel display="flex" alignItems="center">
          <Checkbox checked={isBodyVisible} onChange={toggleIsBodyVisible} />
          <Space width="2x" />
          <Text fontFamily="mono" whiteSpace="nowrap">DrawerBody</Text>
        </TextLabel>
        <TextLabel display="flex" alignItems="center">
          <Checkbox checked={isFooterVisible} onChange={toggleIsFooterVisible} />
          <Space width="2x" />
          <Text fontFamily="mono" whiteSpace="nowrap">DrawerFooter</Text>
        </TextLabel>
      </Grid>
      <Button onClick={onOpen}>
        Launch drawer
      </Button>
      <Drawer
        placement={placement}
        size={size}
        isOpen={isOpen}
        isCloseButtonVisible={isCloseButtonVisible}
        closeOnEsc={closeOnEsc}
        closeOnOutsideClick={closeOnOutsideClick}
        onClose={onClose}
        autoFocus={autoFocus}
      >
        {isOverlayVisible && (
          <DrawerOverlay />
        )}
        <DrawerContent>
          {isHeaderVisible && (
            <DrawerHeader>
              Drawer Title
            </DrawerHeader>
          )}
          {isBodyVisible && (
            <DrawerBody>
              <Box maxWidth={480}>
                <Lorem count={3} />
              </Box>
            </DrawerBody>
          )}
          {isFooterVisible && (
            <DrawerFooter>
              <Button variant="primary" onClick={onClose} minWidth="20x">
                OK
              </Button>
              <Space width="2x" />
              <Button onClick={onClose} minWidth="20x">
                Cancel
              </Button>
            </DrawerFooter>
          )}
        </DrawerContent>
      </Drawer>
    </>
  );
}

render(<Example />);
```

### Placements

Use the `placement` prop to if you want to change the placement of the drawer. The value can be one of `right` or `left`. Default is `right.

### Sizes

Use the `size` prop to change the size of the `Drawer`. You can set the value to `auto`, `sm`, `md`, `lg`, or `full`.

```jsx
function Example() {
  const { isOpen, onOpen, onClose } = useDisclosure();
  const [size, setSize] = React.useState('auto');
  const handleClickBy = nextSize => (e) => {
    setSize(nextSize);
    onOpen();
  };

  return (
    <>
      <Stack direction="row" spacing="2x">
        <Button onClick={handleClickBy('auto')}>Auto width</Button>
        <Button onClick={handleClickBy('sm')}>Small width</Button>
        <Button onClick={handleClickBy('md')}>Medium width</Button>
        <Button onClick={handleClickBy('lg')}>Large width</Button>
        <Button onClick={handleClickBy('full')}>Full width</Button>
      </Stack>
      <Drawer
        size={size}
        isOpen={isOpen}
        isCloseButtonVisible
        onClose={onClose}
      >
        <DrawerOverlay />
        <DrawerContent>
          <DrawerHeader>
            Drawer Title
          </DrawerHeader>
          <DrawerBody>
            <Box maxWidth={480}>
              <Lorem count={3} />
            </Box>
          </DrawerBody>
          <DrawerFooter>
            <Button onClick={onClose}>
              Close
            </Button>
          </DrawerFooter>
        </DrawerContent>
      </Drawer>
    </>
  );
}
```

## Props

### Drawer

`Drawer` composes the [`Box`](./box) component.

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| placement | string | 'right' | The placement of the drawer. One of: `'left'`, `'right'` |
| size | string | 'auto' | The size of the drawer. One of: `'auto'`, `'sm'`, `'md'`, `'lg'`, `'full'` |
| isOpen | boolean | false | If `true`, the drawer is shown. |
| isCloseButtonVisible | boolean | false | If `true`, a close button will appear on the right side. |
| closeOnEsc | boolean | false | If `true`, close the drawer when the `esc` key is pressed. |
| closeOnOutsideClick | boolean | false | If `true`, close the drawer when click outside of the drawer. |
| onClose | function | | Callback fired when the drawer closes. |
| autoFocus | boolean | false | If `true` and `initialFocusRef` is not set, it will automatically set focus on the first focusable element. |
| initialFocusRef | React.ref | | The `ref` of the element to receive focus when the drawer opens. |
| finalFocusRef | React.ref | | The `ref` of element to receive focus when the drawer closes. |

### DrawerOverlay

`DrawerOverlay` composes the [`Box`](./box) component.

### DrawerContent

`DrawerContent` composes the [`Box`](./box) component.

### DrawerHeader

`DrawerHeader` composes the [`Box`](./box) component.

### DrawerBody

`DrawerBody` composes the [`Box`](./box) component.

### DrawerFooter

`DrawerFooter` composes the [`Flex`](./flex) component.
